<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>minabsaccum</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="The Canonical Csound Reference Manual" />
    <link rel="up" href="OpcodesTop.html" title="Orchestra Opcodes and Operators" />
    <link rel="prev" href="minabs.html" title="minabs" />
    <link rel="next" href="minaccum.html" title="minaccum" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">minabsaccum</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="minabs.html">Prev</a> </td>
          <th width="60%" align="center">Orchestra Opcodes and Operators</th>
          <td width="20%" align="right"> <a accesskey="n" href="minaccum.html">Next</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="minabsaccum"></a>
      <div class="titlepage"></div>
      <a id="IndexMinabsaccum" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">minabsaccum</span>
        </h2>
        <p>minabsaccum — 
      Accumulates the minimum of the absolute values of audio signals.
          </p>
      </div>
      <div class="refsect1">
        <a id="idm207690"></a>
        <h2>Description</h2>
        <p>
      <span class="emphasis"><em>minabsaccum</em></span> compares two audio-rate variables and stores the minimum of their absolute values into the first.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm207694"></a>
        <h2>Syntax</h2>
        <pre class="synopsis"><span class="command"><strong>minabsaccum</strong></span> aAccumulator, aInput</pre>
      </div>
      <div class="refsect1">
        <a id="idm207698"></a>
        <h2>Performance</h2>
        <p>
      <span class="emphasis"><em>aAccumulator</em></span> -- audio variable to store the minimum value
    </p>
        <p>
      <span class="emphasis"><em>aInput</em></span> -- signal that aAccumulator is compared to
    </p>
        <p>
      The <span class="emphasis"><em>minabsaccum</em></span> opcode is designed to accumulate the minimum value from among many audio signals that may be in different note instances, different channels, or otherwise cannot all be compared at once using the <span class="emphasis"><em>minabs</em></span> opcode.  <span class="emphasis"><em>minabsaccum</em></span> is identical to <span class="emphasis"><em>minaccum</em></span> except that it takes the absolute value of aInput before the comparison.  Its semantics are similar to <span class="emphasis"><em>vincr</em></span> since <span class="emphasis"><em>aAccumulator</em></span> is used as both an input and an output variable, except that <span class="emphasis"><em>minabsaccum</em></span> keeps the minimum absolute value instead of adding the signals together.  <span class="emphasis"><em>minabsaccum</em></span> performs the following operation on each pair of samples:
    </p>
        <p>
      </p>
        <div class="literallayout">
          <p><br />
            if  (abs(aInput) &lt; aAccumulator)  aAccumulator = abs(aInput)<br />
      </p>
        </div>
        <p>
    </p>
        <p>
      <span class="emphasis"><em>aAccumulator</em></span> will usually be a global audio variable.  At the end of any given computation cycle (k-period), after its value is read and used in some way, the accumulator variable should usually be reset to some large enough positive value that will always be greater than the input signals to which it is compared.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm207717"></a>
        <h2>Examples</h2>
        <p>
      Here is an example of the minabsaccum opcode. It uses the file <a class="ulink" href="examples/minabsaccum.csd" target="_top"><em class="citetitle">minabsaccum.csd</em></a>.
      </p>
        <div class="example">
          <a id="idm207722"></a>
          <p class="title">
            <strong>Example 627. Example of the minabsaccum opcode.</strong>
          </p>
          <div class="example-contents">
            <p>See the sections <a class="link" href="UsingRealTime.html" title="Real-Time Audio"><em class="citetitle">Real-time Audio</em></a> and <a class="link" href="CommandFlags.html" title="Csound command line"><em class="citetitle">Command Line Flags</em></a> for more information on using command line flags.</p>
            <div class="refsect1">
              <a id="idm207729"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
-odac   <span class="c1">;;;realtime audio out</span>
<span class="c1">;-iadc    ;;;uncomment -iadc if realtime audio input is needed too</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o minabsaccum.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span><span class="w">

</span><span class="vg">sr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">44100</span><span class="w">
</span><span class="vg">ksmps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="w">
</span><span class="vg">nchnls</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">
</span><span class="vg">0dbfs</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">1</span><span class="w">	</span><span class="c1">;saw</span><span class="w">

</span>a<span class="n">sig</span><span class="w">  </span><span class="nb">vco2</span><span class="w"> </span><span class="mf">.2</span><span class="p">,</span><span class="w"> </span><span class="vi">p4</span><span class="w">		
      </span><span class="nb">outs</span><span class="w">  </span>a<span class="n">sig</span><span class="p">,</span><span class="w"> </span>a<span class="n">sig</span><span class="w">				
</span>ga<span class="n">saw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>a<span class="n">sig</span><span class="w">
</span><span class="kd">endin</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">2</span><span class="w">	</span><span class="c1">;sine</span><span class="w">

</span>a<span class="n">out</span><span class="w">  </span><span class="nb">poscil</span><span class="w"> </span><span class="mf">.3</span><span class="p">,</span><span class="w"> </span><span class="vi">p4</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w">		
      </span><span class="nb">outs</span><span class="w">  </span>a<span class="n">out</span><span class="p">,</span><span class="w"> </span>a<span class="n">out</span><span class="w">				
</span>ga<span class="n">sin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>a<span class="n">out</span><span class="w">
</span><span class="kd">endin</span><span class="w">

</span><span class="kd">instr</span><span class="w"> </span><span class="nf">10</span><span class="w">

</span>a<span class="n">ccum</span><span class="w"> </span><span class="nb">init</span><span class="w"> </span><span class="mi">0</span><span class="w">	
      </span><span class="nb">minabsaccum</span><span class="w">  </span>a<span class="n">ccum</span><span class="p">,</span><span class="w"> </span>ga<span class="n">saw</span><span class="w"> </span><span class="o">+</span><span class="w"> </span>ga<span class="n">sin</span><span class="w">		</span><span class="c1">;saw and sine accumulated	</span><span class="w">
</span>a<span class="n">ccum</span><span class="w"> </span><span class="nb">dcblock2</span><span class="w"> </span>a<span class="n">ccum</span><span class="w">				</span><span class="c1">;get rid of DC</span><span class="w">
      </span><span class="nb">outs</span><span class="w">  </span>a<span class="n">ccum</span><span class="p">,</span><span class="w"> </span>a<span class="n">ccum</span><span class="w">	
     		
</span><span class="nb">clear</span><span class="w"> </span>a<span class="n">ccum</span><span class="w">
</span><span class="kd">endin</span><span class="w">

</span><span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span><span class="w">
</span><span class="nb">f</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">4096</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">1</span><span class="w">	

</span><span class="nb">i</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">330</span><span class="w">
</span><span class="nb">i</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">440</span><span class="w">

</span><span class="nb">i</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="mi">330</span><span class="w">	</span><span class="c1">;same notes but without minabsaccum, for comparison</span><span class="w">
</span><span class="nb">i</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="mi">13</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="mi">440</span><span class="w">

</span><span class="nb">i</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">6</span><span class="w">	</span><span class="c1">;accumulation note stops after 6 seconds</span><span class="w">

</span><span class="nb">e</span><span class="w">
</span><span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm207943"></a>
        <h2>See also</h2>
        <p>
          <a class="link" href="SigmodCompaccum.html" title="Comparators and Accumulators">
            <em class="citetitle">Comparators and Accumulators</em>
          </a>
        </p>
      </div>
      <div class="refsect1">
        <a id="idm207948"></a>
        <h2>Credits</h2>
        <p>
      </p>
        <table border="0" summary="Simple list" class="simplelist">
          <tr>
            <td>Author: Anthony Kozar</td>
          </tr>
          <tr>
            <td>March 2006</td>
          </tr>
        </table>
        <p>
    </p>
        <p>New in Csound version 5.01</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="minabs.html">Prev</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Up</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="minaccum.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">minabs </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> minaccum</td>
        </tr>
      </table>
    </div>
  </body>
</html>
