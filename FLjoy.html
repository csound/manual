<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>FLjoy</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="The Canonical Csound Reference Manual" />
    <link rel="up" href="OpcodesTop.html" title="Orchestra Opcodes and Operators" />
    <link rel="prev" href="FLhvsBoxSetValue.html" title="FLhvsBoxSetValue" />
    <link rel="next" href="FLkeyIn.html" title="FLkeyIn" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">FLjoy</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="FLhvsBoxSetValue.html">Prev</a> </td>
          <th width="60%" align="center">Orchestra Opcodes and Operators</th>
          <td width="20%" align="right"> <a accesskey="n" href="FLkeyIn.html">Next</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="FLjoy"></a>
      <div class="titlepage"></div>
      <a id="IndexFLjoy" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">FLjoy</span>
        </h2>
        <p>FLjoy — 
      A FLTK opcode that acts like a joystick. 
          </p>
      </div>
      <div class="refsect1">
        <a id="idm73746"></a>
        <h2>Description</h2>
        <p>
      <span class="emphasis"><em>FLjoy</em></span> is a squared area that allows the user to modify two output values at the same time. It acts like a joystick. 
    </p>
      </div>
      <div class="refsect1">
        <a id="idm73750"></a>
        <h2>Syntax</h2>
        <pre class="synopsis">koutx, kouty, ihandlex, ihandley <span class="command"><strong>FLjoy</strong></span> "label", iminx, imaxx, iminy, \
      imaxy, iexpx, iexpy, idispx, idispy, iwidth, iheight, ix, iy</pre>
      </div>
      <div class="refsect1">
        <a id="idm73754"></a>
        <h2>Initialization</h2>
        <p>
      <span class="emphasis"><em>ihandlex</em></span> -- a handle value (an integer number) that unequivocally references a corresponding widget. Used by further opcodes that changes some valuator's properties. It is automatically set by the corresponding valuator.
    </p>
        <p>
      <span class="emphasis"><em>ihandley</em></span> -- a handle value (an integer number) that unequivocally references a corresponding widget. Used by further opcodes that changes some valuator's properties. It is automatically set by the corresponding valuator.
    </p>
        <p>
      <span class="emphasis"><em><span class="quote">“<span class="quote">label</span>”</span></em></span> -- a double-quoted string containing some user-provided text, placed near the corresponding widget.
    </p>
        <p>
      <span class="emphasis"><em>iminx</em></span> -- minimum x value of output range
    </p>
        <p>
      <span class="emphasis"><em>imaxx</em></span> -- maximum x value of output range
    </p>
        <p>
      <span class="emphasis"><em>iminy</em></span> -- minimum y value of output range
    </p>
        <p>
      <span class="emphasis"><em>imaxy</em></span> -- maximum y value of output range
    </p>
        <p>
      <span class="emphasis"><em>iwidth</em></span> -- width of widget.
    </p>
        <p>
      <span class="emphasis"><em>idispx</em></span> -- a handle value that was output
      from a previous instance of the <a class="link" href="FLvalue.html" title="FLvalue"><em class="citetitle">FLvalue</em></a> opcode
      to display the current value of the current valuator in the
      <span class="emphasis"><em>FLvalue</em></span> widget itself. If the user does not want to use this feature that displays current values, it must be set to a negative number by the user.
    </p>
        <p>
      <span class="emphasis"><em>idispy</em></span> -- a handle value that was output
      from a previous instance of the <a class="link" href="FLvalue.html" title="FLvalue"><em class="citetitle">FLvalue</em></a> opcode
      to display the current value of the current valuator in the
      <span class="emphasis"><em>FLvalue</em></span> widget itself. If the user does not want to use this feature that displays current values, it must be set to a negative number by the user.
    </p>
        <p>
      <span class="emphasis"><em>iexpx</em></span> -- an integer number denoting the behaviour of valuator: 
      </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>0 = valuator output is linear</p>
            </li>
            <li class="listitem">
              <p>-1 = valuator output is exponential</p>
            </li>
          </ul>
        </div>
        <p>
    </p>
        <p>
      All other positive numbers for <span class="emphasis"><em>iexpx</em></span> indicate the number of an existing table that is used for indexing. Linear interpolation is provided in table indexing. A negative table number suppresses interpolation. 
    </p>
        <p>
      <span class="emphasis"><em>iexpy</em></span> -- an integer number denoting the behaviour of valuator: 
      </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>0 = valuator output is linear</p>
            </li>
            <li class="listitem">
              <p>-1 = valuator output is exponential</p>
            </li>
          </ul>
        </div>
        <p>
    </p>
        <p>
      All other positive numbers for <span class="emphasis"><em>iexpy</em></span> indicate the number of an existing table that is used for indexing. Linear interpolation is provided in table indexing. A negative table number suppresses interpolation. 
    </p>
        <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Warning: IMPORTANT!">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Warning]" src="images/warning.png" />
              </td>
              <th align="left">IMPORTANT!</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        Notice that the tables used by valuators must be created with the <a class="link" href="ftgen.html" title="ftgen"><em class="citetitle">ftgen</em></a> opcode and placed in the orchestra before the corresponding valuator. They can not placed in the score. In fact, tables placed in the score are created later than the initialization of the opcodes placed in the header section of the orchestra.
      </p>
              </td>
            </tr>
          </table>
        </div>
        <p>
      <span class="emphasis"><em>iheight</em></span> -- height of widget.
    </p>
        <p>
      <span class="emphasis"><em>ix</em></span> -- horizontal position of upper left corner of the valuator, relative to the upper left corner of corresponding window (expressed in pixels).
    </p>
        <p>
      <span class="emphasis"><em>iy</em></span> -- vertical position of upper left corner of the valuator, relative to the upper left corner of corresponding window (expressed in pixels).
    </p>
      </div>
      <div class="refsect1">
        <a id="idm73812"></a>
        <h2>Performance</h2>
        <p>
      <span class="emphasis"><em>koutx</em></span> -- x output value
    </p>
        <p>
      <span class="emphasis"><em>kouty</em></span> -- y output value
    </p>
      </div>
      <div class="refsect1">
        <a id="idm73818"></a>
        <h2>Examples</h2>
        <p>
      Here is an example of the FLjoy opcode. It uses the file <a class="ulink" href="examples/FLjoy.csd" target="_top"><em class="citetitle">FLjoy.csd</em></a>.

      </p>
        <div class="example">
          <a id="idm73823"></a>
          <p class="title">
            <strong>Example 311. Example of the FLjoy opcode.</strong>
          </p>
          <div class="example-contents">
            <p>See the sections <a class="link" href="UsingRealTime.html" title="Real-Time Audio"><em class="citetitle">Real-time Audio</em></a> and <a class="link" href="CommandFlags.html" title="Csound command line"><em class="citetitle">Command Line Flags</em></a> for more information on using command line flags.</p>
            <div class="refsect1">
              <a id="idm73830"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
<span class="c1">; Audio out   Audio in    No messages</span>
-odac           -iadc     -d     <span class="c1">;;;RT audio I/O</span>
<span class="c1">; For Non-realtime ouput leave only the line below:</span>
<span class="c1">; -o FLjoy.wav -W ;;; for file output any platform</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="c1">; Demonstration of the flpanel opcode</span>
<span class="c1">; Horizontal click-dragging controls the frequency of the oscillator</span>
<span class="c1">; Vertical click-dragging controls the amplitude of the oscillator</span>
<span class="vg">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="vg">kr</span> <span class="o">=</span> <span class="mi">441</span>
<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">100</span>
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">1</span>

<span class="nb">FLpanel</span> <span class="s">"X Y Panel"</span><span class="p">,</span> <span class="mi">900</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span>
    <span class="c1">; Minimum value output by x movement (frequency)</span>
    i<span class="n">minx</span> <span class="o">=</span> <span class="mi">200</span>
    <span class="c1">; Maximum value output by x movement (frequency)</span>
    i<span class="n">maxx</span> <span class="o">=</span> <span class="mi">5000</span> 
    <span class="c1">; Minimum value output by y movement (amplitude)</span>
    i<span class="n">miny</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1">; Maximum value output by y movement (amplitude)</span>
    i<span class="n">maxy</span> <span class="o">=</span> <span class="mi">15000</span>
    <span class="c1">; Logarithmic change in x direction</span>
    i<span class="n">expx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="c1">; Linear change in y direction</span>
    i<span class="n">expy</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1">; Display handle x direction (-1=not used)</span>
    i<span class="n">dispx</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="c1">; Display handle y direction (-1=not used)</span>
    i<span class="n">dispy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="c1">; Width of the x y panel in pixels</span>
    i<span class="n">width</span> <span class="o">=</span> <span class="mi">800</span>
    <span class="c1">; Height of the x y panel in pixels</span>
    i<span class="n">height</span> <span class="o">=</span> <span class="mi">300</span>
    <span class="c1">; Distance of the left edge of the x y panel from </span>
    <span class="c1">; the left edge of the panel</span>
    i<span class="n">x</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="c1">; Distance of the top edge of the x y </span>
    <span class="c1">; panel from the top edge of the panel</span>
    i<span class="n">y</span> <span class="o">=</span> <span class="mi">50</span>

    gk<span class="n">freqx</span><span class="p">,</span> gk<span class="n">ampy</span><span class="p">,</span> i<span class="n">handlex</span><span class="p">,</span> i<span class="n">handley</span> <span class="nb">FLjoy</span> <span class="s">"X - Frequency Y - Amplitude"</span><span class="p">,</span> i<span class="n">minx</span><span class="p">,</span> i<span class="n">maxx</span><span class="p">,</span> i<span class="n">miny</span><span class="p">,</span> i<span class="n">maxy</span><span class="p">,</span> i<span class="n">expx</span><span class="p">,</span> i<span class="n">expy</span><span class="p">,</span> i<span class="n">dispx</span><span class="p">,</span> i<span class="n">dispy</span><span class="p">,</span> i<span class="n">width</span><span class="p">,</span> i<span class="n">height</span><span class="p">,</span> i<span class="n">x</span><span class="p">,</span> i<span class="n">y</span>
<span class="c1">; End of panel contents</span>
<span class="nb">FLpanelEnd</span>
<span class="c1">; Run the widget thread!</span>
<span class="nb">FLrun</span>

<span class="kd">instr</span> <span class="nf">1</span>
    i<span class="n">fn</span> <span class="o">=</span> <span class="mi">1</span>
    a<span class="n">sig</span> <span class="nb">oscili</span> gk<span class="n">ampy</span><span class="p">,</span> gk<span class="n">freqx</span><span class="p">,</span> i<span class="n">fn</span>
    <span class="nb">out</span> a<span class="n">sig</span>
<span class="kd">endin</span>


<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>

<span class="c1">; Function table that defines a single cycle</span>
<span class="c1">; of a sine wave.</span>
<span class="nb">f</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1024</span> <span class="mi">10</span> <span class="mi">1</span>

<span class="c1">; Instrument 1 will play a note for 1 hour.</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">3600</span>
<span class="nb">e</span>


<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm73989"></a>
        <h2>See Also</h2>
        <p>
      <a class="link" href="FLcount.html" title="FLcount"><em class="citetitle">FLcount</em></a>,
      <a class="link" href="FLknob.html" title="FLknob"><em class="citetitle">FLknob</em></a>,
      <a class="link" href="FLroller.html" title="FLroller"><em class="citetitle">FLroller</em></a>,
      <a class="link" href="FLslider.html" title="FLslider"><em class="citetitle">FLslider</em></a>,
      <a class="link" href="FLtext.html" title="FLtext"><em class="citetitle">FLtext</em></a>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm74002"></a>
        <h2>Credits</h2>
        <p>Author: Gabriel Maldonado</p>
        <p>New in version 4.22</p>
        <p>Example written by Iain McCurdy, edited by Kevin Conder.</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="FLhvsBoxSetValue.html">Prev</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Up</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="FLkeyIn.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">FLhvsBoxSetValue </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> FLkeyIn</td>
        </tr>
      </table>
    </div>
  </body>
</html>
