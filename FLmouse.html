<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>FLmouse</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="The Canonical Csound Reference Manual" />
    <link rel="up" href="OpcodesTop.html" title="Orchestra Opcodes and Operators" />
    <link rel="prev" href="FLloadsnap.html" title="FLloadsnap" />
    <link rel="next" href="flooper.html" title="flooper" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">FLmouse</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="FLloadsnap.html">Prev</a> </td>
          <th width="60%" align="center">Orchestra Opcodes and Operators</th>
          <td width="20%" align="right"> <a accesskey="n" href="flooper.html">Next</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="FLmouse"></a>
      <div class="titlepage"></div>
      <a id="IndexFLmouse" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">FLmouse</span>
        </h2>
        <p>FLmouse — 
      Returns the mouse position and the state of the three mouse buttons.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm74926"></a>
        <h2>Description</h2>
        <p>
      <span class="emphasis"><em>FLmouse</em></span> returns the coordinates of the mouse position within an FLTK panel and the state of the three mouse buttons.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm74930"></a>
        <h2>Syntax</h2>
        <pre class="synopsis">kx, ky, kb1, kb2, kb3 <span class="command"><strong>FLmouse</strong></span> [imode]</pre>
      </div>
      <div class="refsect1">
        <a id="idm74934"></a>
        <h2>Initialization</h2>
        <p>
      <span class="emphasis"><em>imode</em></span> – (optional, default = 0)  Determines the mode for mouse location reporting.
    </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>0 - Absolute position normalized to range 0-1</p>
            </li>
            <li class="listitem">
              <p>1 - Absolute raw pixel position</p>
            </li>
            <li class="listitem">
              <p>2 - Raw pixel position, relative to FLTK panel</p>
            </li>
          </ul>
        </div>
        <p>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm74945"></a>
        <h2>Performance</h2>
        <p>
      <span class="emphasis"><em>kx, ky</em></span> – the mouse coordinates, whose range depends on the <span class="emphasis"><em>imode</em></span> argument (see above).
    </p>
        <p><span class="emphasis"><em>kb1, kb2, kb3</em></span> – the states of the mouse buttons, 1 when corresponding button is pressed, 0 when the button is not pressed.
    </p>
        <p>
      <span class="emphasis"><em>FLmouse</em></span> returns the coordinates of the mouse position and the state of the three mouse buttons. The coordinates can be retrieved in three modes depending on the <span class="emphasis"><em>imode</em></span> argument value (see above). Modes 0 and 1 report mouse position in relation to the complete screen (Absolute mode), while mode 2, reports the pixel position within an FLTK panel. Notice that FLmouse is only active when the mouse cursor passes on an <a class="link" href="FLpanel.html" title="FLpanel"><em class="citetitle">FLpanel</em></a> area.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm74957"></a>
        <h2>Examples</h2>
        <p>
      Here is an example of the FLmouse opcode. It uses the file <a class="ulink" href="examples/FLmouse.csd" target="_top"><em class="citetitle">FLmouse.csd</em></a>.

      </p>
        <div class="example">
          <a id="idm74962"></a>
          <p class="title">
            <strong>Example 315. Example of the FLmouse opcode.</strong>
          </p>
          <div class="example-contents">
            <p>See the sections <a class="link" href="UsingRealTime.html" title="Real-Time Audio"><em class="citetitle">Real-time Audio</em></a> and <a class="link" href="CommandFlags.html" title="Csound command line"><em class="citetitle">Command Line Flags</em></a> for more information on using command line flags.</p>
            <div class="refsect1">
              <a id="idm74969"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
<span class="c1">; Select audio/midi flags here according to platform</span>
<span class="c1">; Audio out   Audio in    No messages</span>
-odac           -iadc     -d     <span class="c1">;;;RT audio I/O</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="vg">sr</span><span class="o">=</span><span class="mi">44100</span>
<span class="vg">ksmps</span><span class="o">=</span><span class="mi">128</span>
<span class="vg">nchnls</span><span class="o">=</span><span class="mi">2</span>

<span class="c1">;Example by Andres Cabrera 2007</span>
gi<span class="n">width</span> <span class="o">=</span> <span class="mi">400</span>
gi<span class="n">height</span> <span class="o">=</span> <span class="mi">300</span>
<span class="nb">FLpanel</span> <span class="s">"FLmouse"</span><span class="p">,</span> gi<span class="n">width</span><span class="p">,</span> gi<span class="n">height</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span>
<span class="nb">FLpanelEnd</span>

<span class="nb">FLrun</span>

<span class="vg">0dbfs</span> <span class="o">=</span> <span class="mi">1</span>

<span class="kd">instr</span> <span class="nf">1</span>
  k<span class="n">x</span><span class="p">,</span> k<span class="n">y</span><span class="p">,</span> k<span class="n">b1</span><span class="p">,</span> k<span class="n">b2</span><span class="p">,</span> k<span class="n">b3</span>    <span class="nb">FLmouse</span> <span class="mi">2</span>
  k<span class="n">trig</span> <span class="nb">changed</span> k<span class="n">x</span><span class="p">,</span> k<span class="n">y</span>  <span class="c1">;Print only if coordinates have changed</span>
  <span class="nb">printf</span> <span class="s">"kx = </span><span class="si">%f</span><span class="s">   ky = </span><span class="si">%f</span><span class="s"> </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> k<span class="n">trig</span><span class="p">,</span> k<span class="n">x</span><span class="p">,</span> k<span class="n">y</span>
k<span class="n">freq</span> <span class="o">=</span> <span class="p">((</span>gi<span class="n">width</span> <span class="o">-</span> k<span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="mi">1000</span><span class="o">/</span>gi<span class="n">width</span><span class="p">)</span> <span class="o">+</span> <span class="mi">300</span>

<span class="c1">; y coordinate determines frequency, x coordinate determines amplitude</span>
<span class="c1">; Left mouse button (kb1) doubles the frequency</span>
<span class="c1">; Right mouse button (kb3) activates sound on channel 2</span>
  a<span class="n">out</span> <span class="nb">oscil</span> k<span class="n">x</span> <span class="o">/</span>gi<span class="n">width</span> <span class="p">,</span> k<span class="n">freq</span> <span class="o">*</span> <span class="p">(</span>k<span class="n">b1</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">1</span>
  <span class="nb">outs</span> a<span class="n">out</span><span class="p">,</span> a<span class="n">out</span> <span class="o">*</span> k<span class="n">b3</span>
<span class="kd">endin</span>

<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
<span class="nb">f</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1024</span> <span class="mi">10</span> <span class="mi">1</span>

<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">120</span>
<span class="nb">e</span>

<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span> 
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm75095"></a>
        <h2>Credits</h2>
        <p>Author: Gabriel Maldonado</p>
        <p>New in version 5.06</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="FLloadsnap.html">Prev</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Up</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="flooper.html">Next</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">FLloadsnap </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Home</a>
          </td>
          <td width="40%" align="right" valign="top"> flooper</td>
        </tr>
      </table>
    </div>
  </body>
</html>
