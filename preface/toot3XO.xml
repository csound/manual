<?xml version="1.0" encoding="UTF-8"?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" id="PrefaceToot3">
  <title>Toot 3</title>
  <para>
    Although in the second instrument we could control and vary the overall amplitude from note to note, it would be more musical if we could contour the loudness during the course of each note. To do this we'll need to employ an additional opcode <link linkend="linen"><citetitle>linen</citetitle></link>, which is used as follows:
    <programlisting>
      kr <emphasis role="opc">linen</emphasis> kamp, irise, idur, idec

      ar <emphasis role="opc">linen</emphasis> xamp, irise, idur, idec</programlisting>

<!--    <link linkend="linen"><citetitle>linen</citetitle></link> is a signal modifier, capable of computing its output at either control or audio rates. Since we plan to use it to modify the amplitude envelope of the oscillator, we'll choose the latter version. Three of linen's arguments expect i-rate variables. The fourth expects in one instance a k-rate variable (or anything slower), and in the other an x-variable (meaning a-rate or anything slower). Our linen we will get its amp from <emphasis>p4</emphasis>.-->

    <link linkend="linen"><citetitle>linen</citetitle></link> produces a set of values which go linearly from 0 to <emphasis>kamp</emphasis> in the time (in seconds) specified by <emphasis>irise</emphasis>. It will stay there for some time and then it will return to 0 again taking <emphasis>idec</emphasis> time. The output of <link linkend="linen"><citetitle>linen</citetitle></link> (k1) is patched into the <emphasis>kamp</emphasis> argument of an <link linkend="oscil"><citetitle>oscil</citetitle></link>. This applies an envelope to the <link linkend="oscil"><citetitle>oscil</citetitle></link>. The csd appears in file <ulink url="examples/toot3.csd"><citetitle>toot3.csd</citetitle></ulink>.
  </para>

  <para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/linen.jpg" format="JPG"/>
      </imageobject>
      <textobject>
        <phrase>[Envelope generated by the linen opcode]</phrase>
      </textobject>
      <caption>
        <para>Envelope generated by the <emphasis>linen</emphasis> opcode</para>
      </caption>
    </mediaobject>
  </para>

  <para>
<xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="examples-xml/toot3.csd.xml"/>
  </para>
</section>
