
<refentry id="ficlose">
<indexterm id="IndexFiclose"><primary>ficlose</primary></indexterm>
  <refentryinfo><title>Signal I/O:File I/O</title></refentryinfo>
  <refmeta>
    <refentrytitle>ficlose</refentrytitle>
  </refmeta>

  <refnamediv>
    <refname>ficlose</refname>
    <refpurpose>
      Closes a previously opened file.
    </refpurpose>
  </refnamediv>
 
  <refsect1>
    <title>Description</title>
    <para>
      <emphasis>ficlose</emphasis> can be used to close a file which was opened with <link linkend="fiopen"><citetitle>fiopen</citetitle></link>.
    </para>
  </refsect1>
 
  <refsect1>
    <title>Syntax</title>
    <synopsis><command>ficlose</command> ihandle</synopsis>
    <synopsis><command>ficlose</command> Sfilename</synopsis>
  </refsect1>
 
  <refsect1>
    <title>Initialization</title>
    <para>
      <emphasis>ihandle</emphasis> -- a number which identifies this file (generated by a previous <link linkend="fiopen"><citetitle>fiopen</citetitle></link>).
    </para>

    <para>
      <emphasis>Sfilename</emphasis> -- A string in double quotes or string variable with the filename. The full path must be given if the file directory is not in the system PATH and is not present in the current directory.
    </para>
  </refsect1>
 
  <refsect1>
    <title>Performance</title>
    <para>
      <emphasis>ficlose</emphasis> closes a file which was previously opened with <link linkend="fiopen"><citetitle>fiopen</citetitle></link>. <emphasis>ficlose</emphasis> is only needed if you need to read a file written to during the same csound performance, since only when csound ends a performance does it close and save data in all open files. The opcode <emphasis>ficlose</emphasis> is useful for instance if you want to save presets within files which you want to be accesible without having to terminate csound. 
    </para>
    <note>
      <para>If you do not need this functionality it is safer not to call <emphasis>ficlose</emphasis>, and just let csound close the files when it exits.</para>
    </note>

    <para>
      If a files closed with <emphasis>ficlose</emphasis> is being accessed by another opcode (like <link linkend="fout"><citetitle>fout</citetitle></link> or <link linkend="foutk"><citetitle>foutk</citetitle></link>), it will be closed later when it is no longer being used.
    </para>
    <warning>
      <para>This opcode should be used with care, as the file handle will become invalid, and will cause an init error when an opcode tries to access the closed file.</para>
    </warning>
  </refsect1>
    
    <refsect1>
    <title>Examples</title>
    <para>
      Here is an example of the ficlose opcode. It uses the file <ulink url="examples/ficlose.csd"><citetitle>ficlose.csd</citetitle></ulink>.
            <example>
        <title>Example of the ficlose opcode.</title>
        <para>See the sections <link linkend="UsingRealTime"><citetitle>Real-time Audio</citetitle></link> and <link linkend="CommandFlags"><citetitle>Command Line Flags</citetitle></link> for more information on using command line flags.</para>
          <xi:include href="examples-xml/ficlose.csd.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
      </example>
    </para>
  </refsect1>
  
      <refsect1>
        <title>See also</title>
        <para><link linkend="SigioFileIO"><citetitle>File Input and Output</citetitle></link></para>
    </refsect1>
 
  <refsect1>
    <title>Credits</title>
    <para>
      <simplelist>
        <member>Author: &namegabriel;</member>
        <member>Italy</member>
        <member>1999</member>
      </simplelist>
    </para>

    <para>New in Csound version 5.02</para>
  </refsect1>
</refentry>
