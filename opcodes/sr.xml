
<refentry id="sr">
<indexterm id="IndexSr"><primary>sr</primary></indexterm>
  <refentryinfo><title>Orchestra Syntax:Header</title></refentryinfo>
  <refmeta>
    <refentrytitle>sr</refentrytitle>
  </refmeta>



  <refnamediv>
    <refname>sr</refname>

    <refpurpose>
      Sets the audio sampling rate.
    </refpurpose>
  </refnamediv>

  <refsect1>
    <title>Description</title>
    <para>
      These statements are global value <link linkend="assign"><citetitle>assignments</citetitle></link>, made at the beginning of an orchestra, before any instrument block is defined. Their function is to set certain <link linkend="VariableTypes"><citetitle>reserved symbol variables</citetitle></link> that are required for performance. Once set, these reserved symbols can be used in expressions anywhere in the orchestra.
    </para>
  </refsect1>

  <refsect1>
    <title>Syntax</title>
    <synopsis><command>sr</command> = iarg</synopsis>
  </refsect1>

  <refsect1>
    <title>Initialization</title>
    <para>
      <emphasis>sr</emphasis>  = (optional) -- set sampling rate to <emphasis>iarg</emphasis> samples per second per channel. The default value is 44100.
    </para>

    <para>
      In addition, any <link linkend="GlobalVariables"><citetitle>global variable</citetitle></link> can be initialized by an <emphasis>init-time assignment</emphasis> anywhere before the first <link linkend="instr"><citetitle>instr statement</citetitle></link>.  All of the above assignments are run as instrument 0 (i-pass only) at the start of real performance.
    </para>

    <para>
      Beginning with Csound version 3.46, <emphasis>sr</emphasis> may be omitted. The sample rate will be calculated from <link linkend="kr"><citetitle>kr</citetitle></link> and <link linkend="ksmps"><citetitle>ksmps</citetitle></link>, but this must evaluate to an integer. If none of these global values is defined, the sample rate will default to 44100. You will usually want to use a value that your soundcard supports, like 44100 or 48000, otherwise, the audio generated by csound may be unplayable, or you will get an error if you attempt to run in real-time. You may naturally use a sample rate like 96000, for off-line rendering even if your soundcard doesn't support it. Csound will generate a valid file that can be played on capable systems.
    </para>
  </refsect1>

  <refsect1>
    <title>Examples</title>
    <para>
      <informalexample>
        <programlisting>
<emphasis role="ohdr">sr</emphasis> <emphasis role="op">=</emphasis> 10000
<emphasis role="ohdr">kr</emphasis> <emphasis role="op">=</emphasis> 500
<emphasis role="ohdr">ksmps</emphasis> <emphasis role="op">=</emphasis> 20
gi1 <emphasis role="op">=</emphasis> <emphasis role="ohdr">sr</emphasis><emphasis role="op">/</emphasis>2.
ga <emphasis role="opc">init</emphasis> 0
itranspose <emphasis role="op">=</emphasis> <emphasis role="opc">octpch</emphasis>(.0l)</programlisting>
      </informalexample>
    </para>
    <para>
      Here is another example of the sr opcode. It uses the file <ulink url="examples/sr.csd"><citetitle>sr.csd</citetitle></ulink>.
      <example>
        <title>Example of the sr opcode.</title>
        <para>See the sections <link linkend="UsingRealTime"><citetitle>Real-time Audio</citetitle></link> and <link linkend="CommandFlags"><citetitle>Command Line Flags</citetitle></link> for more information on using command line flags.</para>
          <xi:include href="examples-xml/sr.csd.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
      </example>
            Its output should include lines like this:
      <screen>
maximum number of harmonics = 240 
maximum number of harmonics = 24 
maximum number of harmonics = 2 
      </screen>
    </para>
  </refsect1>

  <refsect1>
    <title>See Also</title>
    <para>
      <link linkend="kr"><citetitle>kr</citetitle></link>,
      <link linkend="ksmps"><citetitle>ksmps</citetitle></link>,
      <link linkend="nchnls"><citetitle>nchnls</citetitle></link>
    </para>
  </refsect1>
</refentry>
